{"ast":null,"code":"import { FuseMockApiUtils } from '@fuse/lib/mock-api';\nimport { messages as messagesData } from 'app/mock-api/common/messages/data';\nimport { assign, cloneDeep } from 'lodash-es';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@fuse/lib/mock-api\";\nexport class MessagesMockApi {\n  /**\n   * Constructor\n   */\n  constructor(_fuseMockApiService) {\n    this._fuseMockApiService = _fuseMockApiService;\n    this._messages = messagesData;\n    // Register Mock API handlers\n    this.registerHandlers();\n  }\n  // -----------------------------------------------------------------------------------------------------\n  // @ Public methods\n  // -----------------------------------------------------------------------------------------------------\n  /**\n   * Register Mock API handlers\n   */\n  registerHandlers() {\n    // -----------------------------------------------------------------------------------------------------\n    // @ Messages - GET\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onGet('api/common/messages').reply(() => [200, cloneDeep(this._messages)]);\n    // -----------------------------------------------------------------------------------------------------\n    // @ Messages - POST\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onPost('api/common/messages').reply(({\n      request\n    }) => {\n      // Get the message\n      const newMessage = cloneDeep(request.body.message);\n      // Generate a new GUID\n      newMessage.id = FuseMockApiUtils.guid();\n      // Unshift the new message\n      this._messages.unshift(newMessage);\n      // Return the response\n      return [200, newMessage];\n    });\n    // -----------------------------------------------------------------------------------------------------\n    // @ Messages - PATCH\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onPatch('api/common/messages').reply(({\n      request\n    }) => {\n      // Get the id and message\n      const id = request.body.id;\n      const message = cloneDeep(request.body.message);\n      // Prepare the updated message\n      let updatedMessage = null;\n      // Find the message and update it\n      this._messages.forEach((item, index, messages) => {\n        if (item.id === id) {\n          // Update the message\n          messages[index] = assign({}, messages[index], message);\n          // Store the updated message\n          updatedMessage = messages[index];\n        }\n      });\n      // Return the response\n      return [200, updatedMessage];\n    });\n    // -----------------------------------------------------------------------------------------------------\n    // @ Messages - DELETE\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onDelete('api/common/messages').reply(({\n      request\n    }) => {\n      // Get the id\n      const id = request.params.get('id');\n      // Prepare the deleted message\n      let deletedMessage = null;\n      // Find the message\n      const index = this._messages.findIndex(item => item.id === id);\n      // Store the deleted message\n      deletedMessage = cloneDeep(this._messages[index]);\n      // Delete the message\n      this._messages.splice(index, 1);\n      // Return the response\n      return [200, deletedMessage];\n    });\n    // -----------------------------------------------------------------------------------------------------\n    // @ Mark all as read - GET\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onGet('api/common/messages/mark-all-as-read').reply(() => {\n      // Go through all messages\n      this._messages.forEach((item, index, messages) => {\n        // Mark it as read\n        messages[index].read = true;\n        messages[index].seen = true;\n      });\n      // Return the response\n      return [200, true];\n    });\n    // -----------------------------------------------------------------------------------------------------\n    // @ Toggle read status - POST\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onPost('api/common/messages/toggle-read-status').reply(({\n      request\n    }) => {\n      // Get the message\n      const message = cloneDeep(request.body.message);\n      // Prepare the updated message\n      let updatedMessage = null;\n      // Find the message and update it\n      this._messages.forEach((item, index, messages) => {\n        if (item.id === message.id) {\n          // Update the message\n          messages[index].read = message.read;\n          // Store the updated message\n          updatedMessage = messages[index];\n        }\n      });\n      // Return the response\n      return [200, updatedMessage];\n    });\n  }\n  static #_ = this.ɵfac = function MessagesMockApi_Factory(t) {\n    return new (t || MessagesMockApi)(i0.ɵɵinject(i1.FuseMockApiService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MessagesMockApi,\n    factory: MessagesMockApi.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["FuseMockApiUtils","messages","messagesData","assign","cloneDeep","MessagesMockApi","constructor","_fuseMockApiService","_messages","registerHandlers","onGet","reply","onPost","request","newMessage","body","message","id","guid","unshift","onPatch","updatedMessage","forEach","item","index","onDelete","params","get","deletedMessage","findIndex","splice","read","seen","_","i0","ɵɵinject","i1","FuseMockApiService","_2","factory","ɵfac","providedIn"],"sources":["/Users/tusharphalke/Documents/Freelancing_Work/rrms_frontend/src/app/mock-api/common/messages/api.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { FuseMockApiService, FuseMockApiUtils } from '@fuse/lib/mock-api';\nimport { messages as messagesData } from 'app/mock-api/common/messages/data';\nimport { assign, cloneDeep } from 'lodash-es';\n\n@Injectable({providedIn: 'root'})\nexport class MessagesMockApi\n{\n    private _messages: any = messagesData;\n\n    /**\n     * Constructor\n     */\n    constructor(private _fuseMockApiService: FuseMockApiService)\n    {\n        // Register Mock API handlers\n        this.registerHandlers();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * Register Mock API handlers\n     */\n    registerHandlers(): void\n    {\n        // -----------------------------------------------------------------------------------------------------\n        // @ Messages - GET\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onGet('api/common/messages')\n            .reply(() => [200, cloneDeep(this._messages)]);\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Messages - POST\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onPost('api/common/messages')\n            .reply(({request}) =>\n            {\n                // Get the message\n                const newMessage = cloneDeep(request.body.message);\n\n                // Generate a new GUID\n                newMessage.id = FuseMockApiUtils.guid();\n\n                // Unshift the new message\n                this._messages.unshift(newMessage);\n\n                // Return the response\n                return [200, newMessage];\n            });\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Messages - PATCH\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onPatch('api/common/messages')\n            .reply(({request}) =>\n            {\n                // Get the id and message\n                const id = request.body.id;\n                const message = cloneDeep(request.body.message);\n\n                // Prepare the updated message\n                let updatedMessage = null;\n\n                // Find the message and update it\n                this._messages.forEach((item: any, index: number, messages: any[]) =>\n                {\n                    if ( item.id === id )\n                    {\n                        // Update the message\n                        messages[index] = assign({}, messages[index], message);\n\n                        // Store the updated message\n                        updatedMessage = messages[index];\n                    }\n                });\n\n                // Return the response\n                return [200, updatedMessage];\n            });\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Messages - DELETE\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onDelete('api/common/messages')\n            .reply(({request}) =>\n            {\n                // Get the id\n                const id = request.params.get('id');\n\n                // Prepare the deleted message\n                let deletedMessage = null;\n\n                // Find the message\n                const index = this._messages.findIndex((item: any) => item.id === id);\n\n                // Store the deleted message\n                deletedMessage = cloneDeep(this._messages[index]);\n\n                // Delete the message\n                this._messages.splice(index, 1);\n\n                // Return the response\n                return [200, deletedMessage];\n            });\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Mark all as read - GET\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onGet('api/common/messages/mark-all-as-read')\n            .reply(() =>\n            {\n                // Go through all messages\n                this._messages.forEach((item: any, index: number, messages: any[]) =>\n                {\n                    // Mark it as read\n                    messages[index].read = true;\n                    messages[index].seen = true;\n                });\n\n                // Return the response\n                return [200, true];\n            });\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Toggle read status - POST\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onPost('api/common/messages/toggle-read-status')\n            .reply(({request}) =>\n            {\n                // Get the message\n                const message = cloneDeep(request.body.message);\n\n                // Prepare the updated message\n                let updatedMessage = null;\n\n                // Find the message and update it\n                this._messages.forEach((item: any, index: number, messages: any[]) =>\n                {\n                    if ( item.id === message.id )\n                    {\n                        // Update the message\n                        messages[index].read = message.read;\n\n                        // Store the updated message\n                        updatedMessage = messages[index];\n                    }\n                });\n\n                // Return the response\n                return [200, updatedMessage];\n            });\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}