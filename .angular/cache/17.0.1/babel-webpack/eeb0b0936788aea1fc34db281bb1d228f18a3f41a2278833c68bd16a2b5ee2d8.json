{"ast":null,"code":"import { FuseMockApiUtils } from '@fuse/lib/mock-api';\nimport { notifications as notificationsData } from 'app/mock-api/common/notifications/data';\nimport { assign, cloneDeep } from 'lodash-es';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@fuse/lib/mock-api\";\nexport class NotificationsMockApi {\n  /**\n   * Constructor\n   */\n  constructor(_fuseMockApiService) {\n    this._fuseMockApiService = _fuseMockApiService;\n    this._notifications = notificationsData;\n    // Register Mock API handlers\n    this.registerHandlers();\n  }\n  // -----------------------------------------------------------------------------------------------------\n  // @ Public methods\n  // -----------------------------------------------------------------------------------------------------\n  /**\n   * Register Mock API handlers\n   */\n  registerHandlers() {\n    // -----------------------------------------------------------------------------------------------------\n    // @ Notifications - GET\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onGet('api/common/notifications').reply(() => [200, cloneDeep(this._notifications)]);\n    // -----------------------------------------------------------------------------------------------------\n    // @ Notifications - POST\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onPost('api/common/notifications').reply(({\n      request\n    }) => {\n      // Get the notification\n      const newNotification = cloneDeep(request.body.notification);\n      // Generate a new GUID\n      newNotification.id = FuseMockApiUtils.guid();\n      // Unshift the new notification\n      this._notifications.unshift(newNotification);\n      // Return the response\n      return [200, newNotification];\n    });\n    // -----------------------------------------------------------------------------------------------------\n    // @ Notifications - PATCH\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onPatch('api/common/notifications').reply(({\n      request\n    }) => {\n      // Get the id and notification\n      const id = request.body.id;\n      const notification = cloneDeep(request.body.notification);\n      // Prepare the updated notification\n      let updatedNotification = null;\n      // Find the notification and update it\n      this._notifications.forEach((item, index, notifications) => {\n        if (item.id === id) {\n          // Update the notification\n          notifications[index] = assign({}, notifications[index], notification);\n          // Store the updated notification\n          updatedNotification = notifications[index];\n        }\n      });\n      // Return the response\n      return [200, updatedNotification];\n    });\n    // -----------------------------------------------------------------------------------------------------\n    // @ Notifications - DELETE\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onDelete('api/common/notifications').reply(({\n      request\n    }) => {\n      // Get the id\n      const id = request.params.get('id');\n      // Prepare the deleted notification\n      let deletedNotification = null;\n      // Find the notification\n      const index = this._notifications.findIndex(item => item.id === id);\n      // Store the deleted notification\n      deletedNotification = cloneDeep(this._notifications[index]);\n      // Delete the notification\n      this._notifications.splice(index, 1);\n      // Return the response\n      return [200, deletedNotification];\n    });\n    // -----------------------------------------------------------------------------------------------------\n    // @ Mark all as read - GET\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onGet('api/common/notifications/mark-all-as-read').reply(() => {\n      // Go through all notifications\n      this._notifications.forEach((item, index, notifications) => {\n        // Mark it as read\n        notifications[index].read = true;\n        notifications[index].seen = true;\n      });\n      // Return the response\n      return [200, true];\n    });\n    // -----------------------------------------------------------------------------------------------------\n    // @ Toggle read status - POST\n    // -----------------------------------------------------------------------------------------------------\n    this._fuseMockApiService.onPost('api/common/notifications/toggle-read-status').reply(({\n      request\n    }) => {\n      // Get the notification\n      const notification = cloneDeep(request.body.notification);\n      // Prepare the updated notification\n      let updatedNotification = null;\n      // Find the notification and update it\n      this._notifications.forEach((item, index, notifications) => {\n        if (item.id === notification.id) {\n          // Update the notification\n          notifications[index].read = notification.read;\n          // Store the updated notification\n          updatedNotification = notifications[index];\n        }\n      });\n      // Return the response\n      return [200, updatedNotification];\n    });\n  }\n  static #_ = this.ɵfac = function NotificationsMockApi_Factory(t) {\n    return new (t || NotificationsMockApi)(i0.ɵɵinject(i1.FuseMockApiService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: NotificationsMockApi,\n    factory: NotificationsMockApi.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["FuseMockApiUtils","notifications","notificationsData","assign","cloneDeep","NotificationsMockApi","constructor","_fuseMockApiService","_notifications","registerHandlers","onGet","reply","onPost","request","newNotification","body","notification","id","guid","unshift","onPatch","updatedNotification","forEach","item","index","onDelete","params","get","deletedNotification","findIndex","splice","read","seen","_","i0","ɵɵinject","i1","FuseMockApiService","_2","factory","ɵfac","providedIn"],"sources":["/Users/tusharphalke/Documents/Freelancing_Work/rrms_frontend/src/app/mock-api/common/notifications/api.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { FuseMockApiService, FuseMockApiUtils } from '@fuse/lib/mock-api';\nimport { notifications as notificationsData } from 'app/mock-api/common/notifications/data';\nimport { assign, cloneDeep } from 'lodash-es';\n\n@Injectable({providedIn: 'root'})\nexport class NotificationsMockApi\n{\n    private _notifications: any = notificationsData;\n\n    /**\n     * Constructor\n     */\n    constructor(private _fuseMockApiService: FuseMockApiService)\n    {\n        // Register Mock API handlers\n        this.registerHandlers();\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * Register Mock API handlers\n     */\n    registerHandlers(): void\n    {\n        // -----------------------------------------------------------------------------------------------------\n        // @ Notifications - GET\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onGet('api/common/notifications')\n            .reply(() => [200, cloneDeep(this._notifications)]);\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Notifications - POST\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onPost('api/common/notifications')\n            .reply(({request}) =>\n            {\n                // Get the notification\n                const newNotification = cloneDeep(request.body.notification);\n\n                // Generate a new GUID\n                newNotification.id = FuseMockApiUtils.guid();\n\n                // Unshift the new notification\n                this._notifications.unshift(newNotification);\n\n                // Return the response\n                return [200, newNotification];\n            });\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Notifications - PATCH\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onPatch('api/common/notifications')\n            .reply(({request}) =>\n            {\n                // Get the id and notification\n                const id = request.body.id;\n                const notification = cloneDeep(request.body.notification);\n\n                // Prepare the updated notification\n                let updatedNotification = null;\n\n                // Find the notification and update it\n                this._notifications.forEach((item: any, index: number, notifications: any[]) =>\n                {\n                    if ( item.id === id )\n                    {\n                        // Update the notification\n                        notifications[index] = assign({}, notifications[index], notification);\n\n                        // Store the updated notification\n                        updatedNotification = notifications[index];\n                    }\n                });\n\n                // Return the response\n                return [200, updatedNotification];\n            });\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Notifications - DELETE\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onDelete('api/common/notifications')\n            .reply(({request}) =>\n            {\n                // Get the id\n                const id = request.params.get('id');\n\n                // Prepare the deleted notification\n                let deletedNotification = null;\n\n                // Find the notification\n                const index = this._notifications.findIndex((item: any) => item.id === id);\n\n                // Store the deleted notification\n                deletedNotification = cloneDeep(this._notifications[index]);\n\n                // Delete the notification\n                this._notifications.splice(index, 1);\n\n                // Return the response\n                return [200, deletedNotification];\n            });\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Mark all as read - GET\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onGet('api/common/notifications/mark-all-as-read')\n            .reply(() =>\n            {\n                // Go through all notifications\n                this._notifications.forEach((item: any, index: number, notifications: any[]) =>\n                {\n                    // Mark it as read\n                    notifications[index].read = true;\n                    notifications[index].seen = true;\n                });\n\n                // Return the response\n                return [200, true];\n            });\n\n        // -----------------------------------------------------------------------------------------------------\n        // @ Toggle read status - POST\n        // -----------------------------------------------------------------------------------------------------\n        this._fuseMockApiService\n            .onPost('api/common/notifications/toggle-read-status')\n            .reply(({request}) =>\n            {\n                // Get the notification\n                const notification = cloneDeep(request.body.notification);\n\n                // Prepare the updated notification\n                let updatedNotification = null;\n\n                // Find the notification and update it\n                this._notifications.forEach((item: any, index: number, notifications: any[]) =>\n                {\n                    if ( item.id === notification.id )\n                    {\n                        // Update the notification\n                        notifications[index].read = notification.read;\n\n                        // Store the updated notification\n                        updatedNotification = notifications[index];\n                    }\n                });\n\n                // Return the response\n                return [200, updatedNotification];\n            });\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}